# This file defines the visual layout for the NavigationDrawer widget.
# By putting it in its own .kv file, we avoid all the indentation
# errors that were causing the app to crash.

<NavigationDrawer>:
    side_panel: side_panel
    main_panel: main_panel
    join_image: join_image

    RelativeLayout:
        id: side_panel
        x: root.x - (1 - root.side_panel_init_offset) * root.side_panel_width
        y: root.y
        width: root.side_panel_width
        height: root.height
        opacity: root.opacity if root.fade_max_opacity == 1 else root._anim_alpha
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

    RelativeLayout:
        id: main_panel
        x: root.x + root.side_panel_width * root.side_panel_init_offset if root.state == 'open' else root.x
        y: root.y
        width: root.width
        height: root.height
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

    Image:
        id: join_image
        source: root.separator_image
        mipmap: False
        x: (main_panel.x - root.separator_image_width) if root.side_panel_positioning == 'left' else (main_panel.x + main_panel.width)
        y: root.y
        width: root.separator_image_width
        height: root.height
        allow_stretch: True
        keep_ratio: False
